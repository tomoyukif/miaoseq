% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions.R
\name{miaoEditcall}
\alias{miaoEditcall}
\title{Main pipeline wrapper for MiaoEditcall}
\usage{
miaoEditcall(
  in_dir,
  out_dir,
  dorado_path = "dorado",
  samtools_path = "samtools",
  blast_path = "blastn",
  primer_list,
  pam_list,
  index_list,
  genome_fn,
  amplicon_fn,
  size_sel,
  check_window = 10,
  n_core = 1,
  resume = FALSE
)
}
\arguments{
\item{in_dir}{Path to the input directory containing raw sequencing data in pod5 format.}

\item{out_dir}{Path to the output directory where results will be saved.}

\item{dorado_path}{Path to the dorado executable for basecalling.}

\item{samtools_path}{Path to the samtools executable for BAM file processing.}

\item{blast_path}{Path to a directory containing BLAST executables (makeblastdb and blastn).}

\item{primer_list}{Path to a CSV file containing primer sequences.}

\item{pam_list}{Path to a CSV file containing PAM site information.}

\item{index_list}{Path to a CSV file containing index sequences for demultiplexing.}

\item{genome_fn}{Path to the reference genome sequence in FASTA format.}

\item{amplicon_fn}{Path to the amplicon database FASTA file.}

\item{size_sel}{A numeric vector of length 2 specifying the minimum and maximum read lengths (in bp) to retain for edit-calling.}

\item{check_window}{An integer specifying the window size (in bp) around the expected cut site to search for edits.}

\item{n_core}{Number of CPU cores to use for parallel processing.}

\item{resume}{Logical indicating whether to resume from a previous run if output files already exist.}
}
\value{
A data frame summarizing the edit-calling results.
}
\description{
This function serves as the main pipeline wrapper for MiaoEditcall,
orchestrating the steps of basecalling, demultiplexing, read alignment,
and edit-calling. It takes in raw sequencing data and processes it
through each step, producing a summary of edit-calling results.
}
\examples{
# in_dir <- "/path/to/pod5/directory" # MinION outputs raw sequence data files in a pod5 directory
# out_dir <- "/path/to/your/working/directory/output_directory_name"
# genome_fn <- '/reference/genome/sequence.fa' # Reference genome sequence in fasta format
# pam_list <- "inst/extdata/agr8_pam_list.csv"
# index_list <- "inst/extdata/index_list.csv"
# primer_list <- "inst/extdata/amplicon_primers.csv"
# dorado_path <- "/path/to/dorado" # Path to dorado executable
# samtools_path <- "/path/to/samtools" # Path to samtools executable
# blast_path <- "/path/to/blast/bin" # Path to a directory containing blast executables (makeblastdb and blastn)
# n_core <- 30 # Number of CPU cores to use
# amplicon_fn <- "/path/to/your/working/directory/output_directory_name/ref/amplicon.fa"
# editcall_out <- miaoEditcall(in_dir = in_dir,
#                              out_dir = out_dir,
#                              dorado_path = dorado_path,
#                              samtools_path = samtools_path,
#                              blast_path = blast_path,
#                              primer_list = primer_list,
#                              pam_list = pam_list,
#                              index_list = index_list,
#                              genome_fn = genome_fn,
#                              amplicon_fn = amplicon_fn,
#                              size_sel = c(300, 450), # Set the valid range of read length for edit-calling in bp. Adjust based on your amplicon size.
#                              check_window = 10, # Set the window size (in bp) around the expected cut site to search for edits. Adjust based on your experimental design.
#                              n_core = n_core,
#                              resume = FALSE) # Set resume = TRUE to resume from previous run
}
